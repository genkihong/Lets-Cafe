{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/backend/Orders.vue?98ba","webpack:///src/views/backend/Orders.vue","webpack:///./src/views/backend/Orders.vue?cffd","webpack:///./src/views/backend/Orders.vue"],"names":["fails","__webpack_require__","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_l","item","key","class","text-secondary","is_paid","_v","_s","_f","create_at","domProps","textContent","user","email","_e","product","i","title","qty","unit","total","id","attrs","Pages","pagination","on","getPage","getOrders","staticRenderFns","Ordersvue_type_script_lang_js_","data","orders","isNew","methods","page","arguments","length","vm","url","concat","$store","dispatch","root","$http","get","tempProduct","then","response","computed","sortOrder","newOrder","a","b","aIsPaid","bIsPaid","created","console","log","backend_Ordersvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-37b6125f.009e0726.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',{staticClass:\"table mt-4\"},[_vm._m(0),_c('tbody',_vm._l((_vm.sortOrder),function(item,key){return _c('tr',{key:key,class:{'text-secondary': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"date\")(item.create_at)))]),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\"\\n              \"+_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n              \"+_vm._s(product.product.unit)+\"\\n            \")])}),0)]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-danger\"},[_vm._v(\"尚未付款\")])]),_c('td',[_vm._v(_vm._s(item.id))])])}),0)]),_c('Pagination',{attrs:{\"Pages\":_vm.pagination},on:{\"getPage\":_vm.getOrders}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"購買時間\")]),_c('th',[_vm._v(\"Email\")]),_c('th',[_vm._v(\"購買款項\")]),_c('th',[_vm._v(\"應付金額\")]),_c('th',[_vm._v(\"是否付款\")]),_c('th',[_vm._v(\"訂單編號\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <table class=\"table mt-4\">\r\n      <thead>\r\n        <tr>\r\n          <th>購買時間</th>\r\n          <th>Email</th>\r\n          <th>購買款項</th>\r\n          <th>應付金額</th>\r\n          <th>是否付款</th>\r\n          <th>訂單編號</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, key) in sortOrder\" :key=\"key\" :class=\"{'text-secondary': !item.is_paid}\">\r\n          <td>{{ item.create_at | date }}</td>\r\n          <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n          <td>\r\n            <ul class=\"list-unstyled\">\r\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                {{ product.product.title }} 數量：{{ product.qty }}\r\n                {{ product.product.unit }}\r\n              </li>\r\n            </ul>\r\n          </td>\r\n          <td class=\"text-right\">{{ item.total | currency }}</td>\r\n          <td>\r\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\r\n            <span v-else class=\"text-danger\">尚未付款</span>\r\n          </td>\r\n          <td>{{ item.id}}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination :Pages=\"pagination\" @getPage=\"getOrders\"></Pagination>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: {},\r\n      isNew: false,\r\n      pagination: {},\r\n    };\r\n  },\r\n  methods: {\r\n    getOrders(page = 1) {\r\n      const vm = this;\r\n      const url = `${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/admin/orders?page=${page}`;\r\n      vm.$store.dispatch('updateLoading', true, { root: true });      \r\n      this.$http.get(url, vm.tempProduct).then((response) => {\r\n        vm.orders = response.data.orders;\r\n        vm.pagination = response.data.pagination;\r\n        vm.$store.dispatch('updateLoading', false, { root: true });\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    sortOrder() { // 訂單排序\r\n      const vm = this;\r\n      let newOrder = [];\r\n      if (vm.orders.length) {\r\n        newOrder = vm.orders.sort((a, b) => {\r\n          const aIsPaid = a.is_paid ? 1 : 0;\r\n          const bIsPaid = b.is_paid ? 1 : 0;\r\n          return bIsPaid - aIsPaid;\r\n        });\r\n      }\r\n      return newOrder;\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrders();\r\n    console.log(process.env.VUE_APP_API_PATH);\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Orders.vue?vue&type=template&id=12545d32&\"\nimport script from \"./Orders.vue?vue&type=script&lang=js&\"\nexport * from \"./Orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}