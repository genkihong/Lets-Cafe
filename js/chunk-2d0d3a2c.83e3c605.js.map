{"version":3,"sources":["webpack:///./src/views/frontend/checkout.vue?5d08","webpack:///src/views/frontend/checkout.vue","webpack:///./src/views/frontend/checkout.vue?6f4f","webpack:///./src/views/frontend/checkout.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","order","attrs","role","_v","on","submit","$event","preventDefault","payOrder","_l","item","key","id","_s","product","title","qty","unit","_f","final_total","colspan","total","width","user","email","name","tel","address","is_paid","_e","to","staticRenderFns","checkoutvue_type_script_lang_js_","data","orderId","methods","getOrder","vm","api","concat","Object","NODE_ENV","VUE_APP_API","VUE_APP_CLI_UI_URL","VUE_APP_CUSTOM_PATH","BASE_URL","VUE_APP_API_PATH","$store","dispatch","$http","get","then","response","console","log","post","success","created","$route","params","frontend_checkoutvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0d3a2c.83e3c605.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('section',{staticClass:\"form-row text-center\"},[_vm._m(0),_vm._m(1),_c('div',{staticClass:\"col-12 col-sm\"},[(_vm.order.is_paid)?_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        3.付款完成\\n      \")]):_c('div',{staticClass:\"alert alert-main alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        3.付款完成\\n      \")])])]),_c('div',{staticClass:\"row justify-content-center my-3\"},[_c('form',{staticClass:\"col-md-6\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[_c('h3',{staticClass:\"text-center text-lighter p-3\"},[_vm._v(\"購買資訊\")]),_c('table',{staticClass:\"table text-lighter table-borderless mb-5\"},[_vm._m(2),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.qty)+\" \"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.final_total)))])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"h3 text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"h3 text-right\"},[_c('strong',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])])]),_c('h3',{staticClass:\"text-center text-lighter p-3\"},[_vm._v(\"個人資料\")]),_c('table',{staticClass:\"table text-lighter table-borderless\"},[_c('tbody',[_c('tr',[_c('th',{attrs:{\"width\":\"200\"}},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"收件人電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"收件人地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\"尚未付款\")]):_c('span',{staticClass:\"text-success\"},[_vm._v(\"付款完成\")])])])])]),(_vm.order.is_paid === false)?_c('button',{staticClass:\"btn btn-lighter btn-block btn-lg card-btn my-3\"},[_c('i',{staticClass:\"fas fa-money-check-alt fa-lg mr-3\"}),_vm._v(\"確認付款\\n      \")]):_vm._e(),(_vm.order.is_paid === true)?_c('router-link',{staticClass:\"btn btn-lighter btn-block btn-lg card-btn my-3\",attrs:{\"to\":\"/\"}},[_c('i',{staticClass:\"fas fa-shopping-cart fa-lg mr-3\"}),_vm._v(\"繼續購物\\n      \")]):_vm._e()],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        1.輸入訂單資料\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12 col-sm\"},[_c('div',{staticClass:\"alert alert-success alert-rounded\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n        2.金流付款\\n      \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"thead-dark\"},[_c('tr',[_c('th',[_vm._v(\"品名\")]),_c('th',{attrs:{\"width\":\"80\"}},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"160\"}},[_vm._v(\"小計\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <!-- 訂單流程 -->\r\n    <section class=\"form-row text-center\">\r\n      <div class=\"col-12 col-sm\">\r\n        <div class=\"alert alert-success alert-rounded\" role=\"alert\">\r\n          1.輸入訂單資料\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-sm\">\r\n        <div class=\"alert alert-success alert-rounded\" role=\"alert\">\r\n          2.金流付款\r\n        </div>         \r\n      </div>\r\n      <div class=\"col-12 col-sm\">\r\n        <div class=\"alert alert-success alert-rounded\" role=\"alert\" v-if=\"order.is_paid\">\r\n          3.付款完成\r\n        </div>\r\n        <div class=\"alert alert-main alert-rounded\" role=\"alert\" v-else>\r\n          3.付款完成\r\n        </div>\r\n      </div>\r\n    </section>    \r\n    <div class=\"row justify-content-center my-3\">\r\n      <form class=\"col-md-6\" @submit.prevent=\"payOrder\">\r\n        <!-- 訂單內容 -->\r\n        <h3 class=\"text-center text-lighter p-3\">購買資訊</h3>\r\n        <table class=\"table text-lighter table-borderless mb-5\">\r\n          <thead class=\"thead-dark\">\r\n            <tr>\r\n              <th>品名</th>\r\n              <th width=\"80\">數量</th>\r\n              <th class=\"text-right\" width=\"160\">小計</th>\r\n            </tr>             \r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"item in order.products\" :key=\"item.id\">\r\n              <td class=\"align-middle\">{{ item.product.title }}</td>\r\n              <td class=\"align-middle\">{{ item.qty }} {{ item.product.unit }}</td>\r\n              <td class=\"align-middle text-right\">{{ item.final_total | currency }}</td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <td colspan=\"2\" class=\"h3 text-right\">總計</td>\r\n              <td class=\"h3 text-right\">\r\n                <strong>{{ order.total | currency }}</strong>\r\n              </td>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n        <!-- user 資訊 -->\r\n        <h3 class=\"text-center text-lighter p-3\">個人資料</h3>\r\n        <table class=\"table text-lighter table-borderless\">\r\n          <tbody>\r\n            <tr>\r\n              <th width=\"200\">Email</th>\r\n              <td>{{ order.user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>姓名</th>\r\n              <td>{{ order.user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人電話</th>\r\n              <td>{{ order.user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>收件人地址</th>\r\n              <td>{{ order.user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>付款狀態</th>\r\n              <td>\r\n                <span v-if=\"!order.is_paid\" class=\"text-danger\" >尚未付款</span>\r\n                <span v-else class=\"text-success\">付款完成</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <button class=\"btn btn-lighter btn-block btn-lg card-btn my-3\" v-if=\"order.is_paid === false\">\r\n          <i class=\"fas fa-money-check-alt fa-lg mr-3\"></i>確認付款\r\n        </button>\r\n        <router-link class=\"btn btn-lighter btn-block btn-lg card-btn my-3\" to=\"/\" v-if=\"order.is_paid === true\">\r\n          <i class=\"fas fa-shopping-cart fa-lg mr-3\"></i>繼續購物\r\n        </router-link>         \r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      orderId: '', // 訂單 id\r\n      order: {     // 訂單內容 \r\n        user: {},\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    getOrder() { // 取得訂單內容\r\n      const vm = this;\r\n      const api =`${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/order/${vm.orderId}`;\r\n      vm.$store.dispatch('updateLoading', true);\r\n      \r\n      this.$http.get(api).then((response) => {\r\n        console.log('訂單內容', response.data);\r\n        vm.order = response.data.order;\r\n        vm.$store.dispatch('updateLoading', false);\r\n      });\r\n    },\r\n    payOrder() { // 結帳\r\n      const vm = this;\r\n      const api =`${process.env.VUE_APP_API_PATH}/api/${process.env.VUE_APP_CUSTOM_PATH}/pay/${vm.orderId}`;\r\n      vm.$store.dispatch('updateLoading', true);\r\n      \r\n      this.$http.post(api).then((response) => {\r\n        console.log('結帳', response);\r\n        if (response.data.success) {\r\n          vm.getOrder();\r\n        }\r\n        vm.$store.dispatch('updateLoading', false);\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.orderId = this.$route.params.orderId; // 取得訂單 Id\r\n    console.log(this.orderId);\r\n    this.getOrder();\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkout.vue?vue&type=template&id=1561d6f8&\"\nimport script from \"./checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./checkout.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}